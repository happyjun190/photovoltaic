<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.photovoltaic.dao.device.InverterDeviceDAO">
    <!--逆变器设备表字段-->
    <sql id="inverterDeviceColumns">
        T1.INVERTER_ADDR as inverterAddr,
        T1.DTU_ID as dtuId,
        T1.MTIME as mtime,
        T1.STATUS as status,
        T1.CTIME as ctime,
        T1.INVERTER_TYPE as inverterType,
        T1.VERSION as version,
        T1.PHASE_TYPE as phaseType,
        T1.POWER_SIZE as powerSize,
        T1.ID as id,
        T1.NAME as name,
        T1.GRID_STANDARD as gridStandard,
        T1.MODEL as model,
        T1.SOFT_VERSION as softVersion,
        T1.SERIAL_NUMBER as serialNumber,
        T1.MANUFACTURER as manufacturer
    </sql>


    <!--分页查询逆变器设备信息-->
    <select id="getInverterDeviceList" resultType="com.photovoltaic.model.device.TabInverterDevice">
        SELECT
          <include refid="inverterDeviceColumns"/>
        FROM "GFTW"."TS_INVERTER_DEVICE" T1
    </select>


    <!--根据逆变器id获取逆变器信息-->
    <select id="getInverterDeviceById" resultType="com.photovoltaic.model.device.TabInverterDevice">
        SELECT
          <include refid="inverterDeviceColumns"/>
        FROM "GFTW"."TS_INVERTER_DEVICE" T1
        WHERE T1."ID" = #{inverterId}
    </select>


    <!--新增逆变器设备信息-->
    <insert id="addInverterDeviceInfo">
        INSERT INTO "GFTW"."TS_INVERTER_DEVICE" ("INVERTER_ADDR", "DTU_ID", "MTIME", "STATUS", "CTIME", "INVERTER_TYPE", "VERSION", "PHASE_TYPE", "POWER_SIZE", "ID", "NAME", "GRID_STANDARD", "MODEL", "SOFT_VERSION", "SERIAL_NUMBER", "MANUFACTURER") VALUES ('01', '1', TO_DATE('2017-03-18 23:14:14', 'SYYYY-MM-DD HH24:MI:SS'), '0', TO_DATE('2017-03-18 23:14:17', 'SYYYY-MM-DD HH24:MI:SS'), '0', NULL, NULL, '3000', '1', :"NAME", NULL, NULL, NULL, NULL, NULL);
    </insert>


    <!--更新逆变器设备信息-->
    <update id="">

    </update>

</mapper>